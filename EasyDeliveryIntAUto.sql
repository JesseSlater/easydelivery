CREATE DATABASE EasyDelivery;
USE EasyDelivery;
CREATE TABLE PERSON (
    P_ID INT NOT NULL auto_increment,
    First_name VARCHAR(30),
    Middle_name VARCHAR(30),
    Last_name VARCHAR(30),
    Date_of_birth DATE,
    Address VARCHAR(30),
    PRIMARY KEY (P_ID)
);
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Jackie', NULL,'Billy','1970-05-020','4714 JasonJill Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Jester', NULL,'James','1995-04-05','503 TawnyTimmy Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Tammy', NULL,'Billy','1950-08-018','4841 JarnoldJackie Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Tawny', NULL,'Tron','1974-03-017','976 TronJester Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Jason', NULL,'Simon','1963-07-020','4456 SaulJack Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Brawny', NULL,'Tammy','2004-08-020','4669 BrawnySaul Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Baluga', NULL,'Jester','2000-06-02','4206 JasonSink Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Billy', NULL,'Sangria','2006-04-04','3460 JackBranson Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Tammy', NULL,'Jack','1970-02-025','2428 SanjiJason Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Tammy', NULL,'Sangria','2008-03-010','297 JackJester Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Sink', NULL,'Jaquan','1986-08-012','794 JillBaluga Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Jill', NULL,'Shaun','1972-02-06','4513 TammyJill Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Jill', NULL,'Smoker','1960-04-07','2641 JesterBilly Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Branson', NULL,'Simon','1976-04-012','4287 BalugaBrawny Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Billy', NULL,'Sink','1976-05-012','2258 BrawnySanji Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Shrek', NULL,'Jiminy','1970-08-014','883 SanjiShepton Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Jamie', NULL,'Timmy','1984-04-019','3941 BalugaJack Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Jamie', NULL,'Jaquan','1998-07-06','981 BillyTrunk Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Johnny', NULL,'James','1971-07-013','4290 JarnoldJill Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Shrek', NULL,'Jack','1990-04-015','3462 TimmyShepton Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Jackie', NULL,'Jackie','1951-05-01','2434 BransonBilly Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Tammy', NULL,'Jaquan','1993-01-07','3749 SinkJohnny Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Timmy', NULL,'Timmy','1962-04-018','4702 JamieJohnny Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Saul', NULL,'Jester','1996-05-015','2029 JamieJaquan Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Jamie', NULL,'Tom','1996-01-03','1861 ShaunJackie Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Jackie', NULL,'Jackie','2002-07-021','3629 SanjiJames Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Tawny', NULL,'Baluga','1974-02-03','2833 BillyJarnold Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Tron', NULL,'Trunk','1975-02-06','3637 SaulShrek Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Tron', NULL,'Jaquan','1955-05-012','3314 JamesTom Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Branson', NULL,'Smoker','1976-03-020','4927 TimmyTom Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Tammy', NULL,'Trunk','1986-05-012','857 BrawnySanji Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Sink', NULL,'Jamie','1999-06-04','2250 JasonSaul Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Smoker', NULL,'Branson','1989-06-021','2357 JesterJiminy Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Tawny', NULL,'Sanji','1988-01-020','2871 TawnySanji Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Saul', NULL,'Saul','1999-01-021','4464 TronJohnny Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Billy', NULL,'Timmy','2005-08-05','4039 JarnoldSimon Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Branson', NULL,'Tron','1993-02-09','4961 SaulJiminy Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Jill', NULL,'Jester','1968-02-023','2419 JackieTom Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Timmy', NULL,'Shaun','1967-02-02','4635 TimmyJaquan Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Jason', NULL,'James','2004-04-09','4090 SinkSaul Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Trunk', NULL,'Jill','1972-06-03','1508 SmokerBrawny Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Jaquan', NULL,'James','1959-06-019','325 BobbyShepton Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Trunk', NULL,'Jaquan','1993-02-011','2309 TomJill Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Tom', NULL,'Jiminy','1976-05-08','773 JackJiminy Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Tron', NULL,'Jiminy','1957-01-019','3528 JillSangria Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Jason', NULL,'Sangria','1990-01-09','2026 SaulSangria Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Tawny', NULL,'Jason','2002-03-023','3732 JamieJames Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Tron', NULL,'Tammy','2006-04-05','3829 SheptonTawny Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Saul', NULL,'Tom','1964-06-07','2161 TammyShepton Street');
INSERT INTO `person` (`P_ID`, `First_name`, `Middle_name`, `Last_name`, `Date_of_birth`, `Address`)VALUES (NULL,'Jack', NULL,'Jester','2000-02-05','2446 JackBrawny Street');

CREATE TABLE PHONE_NUMBER (
    Phone_number CHAR(10) NOT NULL,
    P_ID INT NOT NULL,
    PRIMARY KEY (Phone_number, P_ID),
    FOREIGN KEY (P_ID)
        REFERENCES PERSON (P_ID)
);
insert into phone_number (Phone_number, P_ID) values ('1325580847', 1);
insert into phone_number (Phone_number, P_ID) values ('3606553675', 2);
insert into phone_number (Phone_number, P_ID) values ('7527517257', 3);
insert into phone_number (Phone_number, P_ID) values ('1497390890', 4);
insert into phone_number (Phone_number, P_ID) values ('7034020518', 5);
insert into phone_number (Phone_number, P_ID) values ('3974916180', 6);
insert into phone_number (Phone_number, P_ID) values ('9288789144', 7);
insert into phone_number (Phone_number, P_ID) values ('6123460439', 8);
insert into phone_number (Phone_number, P_ID) values ('6416637490', 9);
insert into phone_number (Phone_number, P_ID) values ('1615155251', 10);
insert into phone_number (Phone_number, P_ID) values ('2058285906', 11);
insert into phone_number (Phone_number, P_ID) values ('8243170984', 12);
insert into phone_number (Phone_number, P_ID) values ('5393012384', 13);
insert into phone_number (Phone_number, P_ID) values ('2446226389', 14);
insert into phone_number (Phone_number, P_ID) values ('3445353649', 15);
insert into phone_number (Phone_number, P_ID) values ('3844447881', 16);
insert into phone_number (Phone_number, P_ID) values ('4943419842', 17);
insert into phone_number (Phone_number, P_ID) values ('8032931918', 18);
insert into phone_number (Phone_number, P_ID) values ('9596967680', 19);
insert into phone_number (Phone_number, P_ID) values ('5576282492', 20);
insert into phone_number (Phone_number, P_ID) values ('8142889486', 21);
insert into phone_number (Phone_number, P_ID) values ('7906770506', 22);
insert into phone_number (Phone_number, P_ID) values ('7191278762', 23);
insert into phone_number (Phone_number, P_ID) values ('7235011087', 24);
insert into phone_number (Phone_number, P_ID) values ('6664832120', 25);

CREATE TABLE GENDER (
    Gender_ID INT NOT NULL AUTO_INCREMENT,
    Gender VARCHAR(30),
    PRIMARY KEY (Gender_ID)
);
INSERT INTO `gender` (`Gender_ID`, `Gender`) VALUES (NULL, 'Male'), (NULL, 'Female') ;

CREATE TABLE START_DATE (
    Start_Date_ID INT NOT NULL auto_increment,
    Start_Date DATE,
    PRIMARY KEY (Start_Date_ID)
);
insert into start_date (Start_Date_ID, Start_Date) values (1, '2015-07-30');
insert into start_date (Start_Date_ID, Start_Date) values (2, '2019-04-15');
insert into start_date (Start_Date_ID, Start_Date) values (3, '2016-12-26');
insert into start_date (Start_Date_ID, Start_Date) values (4, '2020-10-23');
insert into start_date (Start_Date_ID, Start_Date) values (5, '2020-11-03');
insert into start_date (Start_Date_ID, Start_Date) values (6, '2020-07-10');
insert into start_date (Start_Date_ID, Start_Date) values (7, '2019-04-01');
insert into start_date (Start_Date_ID, Start_Date) values (8, '2019-03-01');
insert into start_date (Start_Date_ID, Start_Date) values (9, '2020-08-19');
insert into start_date (Start_Date_ID, Start_Date) values (10, '2015-12-05');

CREATE TABLE EMPLOYEE (
    Employee_ID CHAR(4) NOT NULL,
    Start_Date_ID INT,
    Gender_ID INT,
    P_ID INT NOT NULL,
    PRIMARY KEY (Employee_ID, P_ID),
    FOREIGN KEY (Start_Date_ID)
        REFERENCES START_DATE (Start_Date_ID),
    FOREIGN KEY (Gender_ID)
        REFERENCES GENDER (Gender_ID),
    FOREIGN KEY (P_ID)
        REFERENCES PERSON (P_ID)
);
insert into employee (Employee_ID, Start_Date_ID, Gender_ID, P_ID) values ('E002', 1, 1, 2);
insert into employee (Employee_ID, Start_Date_ID, Gender_ID, P_ID) values ('E004', 9, 2, 4);
insert into employee (Employee_ID, Start_Date_ID, Gender_ID, P_ID) values ('E006', 6, 2, 6);
insert into employee (Employee_ID, Start_Date_ID, Gender_ID, P_ID) values ('E008', 5, 1, 8);
insert into employee (Employee_ID, Start_Date_ID, Gender_ID, P_ID) values ('E010', 3, 1, 10);
insert into employee (Employee_ID, Start_Date_ID, Gender_ID, P_ID) values ('E012', 9, 2, 12);
insert into employee (Employee_ID, Start_Date_ID, Gender_ID, P_ID) values ('E014', 6, 1, 14);
insert into employee (Employee_ID, Start_Date_ID, Gender_ID, P_ID) values ('E016', 2, 1, 16);
insert into employee (Employee_ID, Start_Date_ID, Gender_ID, P_ID) values ('E018', 7, 1, 18);
insert into employee (Employee_ID, Start_Date_ID, Gender_ID, P_ID) values ('E020', 4, 1, 20);


CREATE TABLE CUSTOMER (
    Customer_ID INT NOT NULL AUTO_INCREMENT,
    P_ID INT NOT NULL,
    PRIMARY KEY (Customer_ID, P_ID)
);

CREATE TABLE ORDINARY_CUSTOMER (
    Customer_ID INT NOT NULL,
    PRIMARY KEY (Customer_ID),
    FOREIGN KEY (Customer_ID)
        REFERENCES CUSTOMER (Customer_ID)
);

CREATE TABLE SILVER_MEMBER (
    Customer_ID INT NOT NULL,
    PRIMARY KEY (Customer_ID),
    FOREIGN KEY (Customer_ID)
        REFERENCES CUSTOMER (Customer_ID)
);

CREATE TABLE GOLD_MEMBER (
    Employee_ID CHAR(4) NOT NULL,
    Customer_ID INT NOT NULL,
    PRIMARY KEY (Employee_ID, Customer_ID),
    FOREIGN KEY (Customer_ID)
        REFERENCES CUSTOMER (Customer_ID),
    FOREIGN KEY (Employee_ID)
        REFERENCES EMPLOYEE (Employee_ID)
);

CREATE TABLE GOLD_PASS (
    Pass_ID INT NOT NULL AUTO_INCREMENT,
    Delivery_count INT,
    PRIMARY KEY (Pass_ID)
);

CREATE TABLE OWNS_GOLD_PASS (
    Employee_ID CHAR(4) NOT NULL,
    Customer_ID INT NOT NULL,
    Pass_ID INT NOT NULL,
    PRIMARY KEY (Employee_ID, Customer_ID, Pass_ID),
    FOREIGN KEY (Employee_ID)
        REFERENCES GOLD_MEMBER (Employee_ID),
    FOREIGN KEY (Customer_ID)
        REFERENCES GOLD_MEMBER (Customer_ID),
    FOREIGN KEY (Pass_ID)
        REFERENCES GOLD_PASS (Pass_ID)
);

CREATE TABLE MEMBER_CARD (
    Card_ID INT NOT NULL AUTO_INCREMENT,
    PRIMARY KEY (Card_ID)
);

CREATE TABLE HAS_MEMBER_CARD (
    Card_ID INT NOT NULL,
    Customer_ID INT NOT NULL,
    PRIMARY KEY (Card_ID, Customer_ID),
    FOREIGN KEY (Card_ID)
        REFERENCES MEMBER_CARD (Card_ID),
    FOREIGN KEY (Customer_ID)
        REFERENCES SILVER_MEMBER (Customer_ID)
);

CREATE TABLE AREA_MANAGER (
    Employee_ID CHAR(4) NOT NULL,
    Location VARCHAR(30),
    PRIMARY KEY (Employee_ID),
    FOREIGN KEY (Employee_ID)
        REFERENCES EMPLOYEE (Employee_ID)
);
insert into Area_Manager (Employee_ID, Location) values ('E020', 'Plano');
insert into Area_Manager (Employee_ID, Location)  values ('E018', 'Dallas');
insert into Area_Manager (Employee_ID, Location)  values ('E016', 'Richardson');


CREATE TABLE DELIVERER (
    Employee_ID CHAR(4) NOT NULL,
    Manager_ID CHAR(4),
    PRIMARY KEY (Employee_ID),
    FOREIGN KEY (Employee_ID)
        REFERENCES EMPLOYEE (Employee_ID),
    FOREIGN KEY (Manager_ID)
        REFERENCES AREA_MANAGER (Employee_ID)
);
insert into DELIVERER (Employee_ID, Manager_ID) values ('E002','E020');
insert into DELIVERER (Employee_ID, Manager_ID) values ('E004','E020');
insert into DELIVERER (Employee_ID, Manager_ID) values ('E006','E018');
insert into DELIVERER (Employee_ID, Manager_ID) values ('E008','E018');
insert into DELIVERER (Employee_ID, Manager_ID) values ('E010','E016');
insert into DELIVERER (Employee_ID, Manager_ID) values ('E012','E016');

CREATE TABLE STAFF (
    Employee_ID CHAR(4) NOT NULL,
    Card_ID INT,
    PRIMARY KEY (Employee_ID),
    FOREIGN KEY (Employee_ID)
        REFERENCES EMPLOYEE (Employee_ID),
    FOREIGN KEY (Card_ID)
        REFERENCES MEMBER_CARD (Card_ID)
);
    
CREATE TABLE MAKE (
    Make_ID INT NOT NULL AUTO_INCREMENT,
    Make VARCHAR(30),
    PRIMARY KEY (Make_ID)
);
INSERT INTO MAKE
    (Make_ID, Make)
VALUES
    (1, 'Ford'),
    (2, 'Chevrolet'),
    (3, 'Toyota'),
    (4, 'Honda'),
    (5, 'GMC');
    
CREATE TABLE MODEL (
    Model_ID INT NOT NULL AUTO_INCREMENT,
    Model VARCHAR(30),
    Make_ID INT,
    PRIMARY KEY (Model_ID),
    FOREIGN KEY (Make_ID)
        REFERENCES MAKE (Make_ID)
);

INSERT INTO MODEL
    (Model_ID, Model, Make_ID)
VALUES
    (1, "F-150", (SELECT Make_ID FROM MAKE WHERE Make='Ford')),
    (2, "Silverado", (SELECT Make_ID FROM MAKE WHERE Make='Chevrolet')),
    (3, "Rav4", (SELECT Make_ID FROM MAKE WHERE Make='Toyota')),
    (4, "CR-V", (SELECT Make_ID FROM MAKE WHERE Make='Honda')),
    (5, "Camry", (SELECT Make_ID FROM MAKE WHERE Make='Toyota'));
    
CREATE TABLE VEHICLE (
    Plate_number CHAR(7) NOT NULL,
    Model_ID INT,
    Employee_ID CHAR(4),
    PRIMARY KEY (Plate_number),
    FOREIGN KEY (Model_ID)
        REFERENCES MODEL (Model_ID),
    FOREIGN KEY (Employee_ID)
        REFERENCES DELIVERER (Employee_ID)
);
insert into vehicle (Plate_number, Model_ID, Employee_ID) values ('02dv7v7', 1, 'E002');
insert into vehicle (Plate_number, Model_ID, Employee_ID) values ('36pv4x4', 3, 'E004');
insert into vehicle (Plate_number, Model_ID, Employee_ID) values ('67iz8r5', 2, 'E006');
insert into vehicle (Plate_number, Model_ID, Employee_ID) values ('23ji1w5', 4, 'E008');
insert into vehicle (Plate_number, Model_ID, Employee_ID) values ('14qy1e1', 1, 'E010');
insert into vehicle (Plate_number, Model_ID, Employee_ID) values ('99jc9u4', 5, 'E012');
    
CREATE TABLE COLOR (
    Color VARCHAR(30) NOT NULL,
    Plate_number CHAR(7) NOT NULL,
    PRIMARY KEY (Color, Plate_number),
    FOREIGN KEY (Plate_number)
        REFERENCES VEHICLE (Plate_number)
);
insert into color (Color, Plate_Number) values ('Mauv', '02dv7v7');
insert into color (Color, Plate_Number) values ('Teal', '36pv4x4');
insert into color (Color, Plate_Number) values ('Turquoise', '67iz8r5');
insert into color (Color, Plate_Number) values ('Puce', '23ji1w5');
insert into color (Color, Plate_Number) values ('Red', '14qy1e1');
insert into color (Color, Plate_Number) values ('Yellow', '99jc9u4');


CREATE TABLE SHOP_NAME (
    Shop_name_ID INT NOT NULL AUTO_INCREMENT,
    Shop_name VARCHAR(30),
    PRIMARY KEY (Shop_name_ID)
);
	
CREATE TABLE SHOP (
    Shop_ID INT NOT NULL AUTO_INCREMENT,
    Address VARCHAR(30),
    Shop_name_ID INT,
    Phone_number CHAR(10),
    PRIMARY KEY (Shop_ID),
    FOREIGN KEY (Shop_name_ID)
        REFERENCES SHOP_NAME (Shop_name_ID)
);

CREATE TABLE COMMENT_TBL (
    Shop_ID INT NOT NULL,
    Score INT,
    Content VARCHAR(30),
    PRIMARY KEY (Shop_ID),
    FOREIGN KEY (Shop_ID)
        REFERENCES SHOP (Shop_ID)
);
   
CREATE TABLE LEAVE_COMMENT (
    Shop_ID INT NOT NULL,
    Customer_ID INT NOT NULL,
    PRIMARY KEY (Shop_ID, Customer_ID),
    FOREIGN KEY (Shop_ID)
        REFERENCES SHOP (Shop_ID),
    FOREIGN KEY (Customer_ID)
        REFERENCES CUSTOMER (Customer_ID)
);

CREATE TABLE PROMOTION (
    Promotion_ID INT NOT NULL AUTO_INCREMENT,
    Promo_desc VARCHAR(30),
    Promo_Start_Date DATE,
    Promo_End_Date DATE,
    Shop_ID INT,
    PRIMARY KEY (Promotion_ID),
    FOREIGN KEY (Shop_ID)
        REFERENCES SHOP (Shop_ID)
);

CREATE TABLE MAKES_CONTRACTS (
    Employee_ID CHAR(4) NOT NULL,
    Shop_ID INT NOT NULL,
    Contract_start_time DATE,
    PRIMARY KEY (Employee_ID, Shop_ID),
    FOREIGN KEY (Shop_ID)
        REFERENCES SHOP (Shop_ID),
    FOREIGN KEY (Employee_ID)
        REFERENCES AREA_MANAGER (Employee_ID)
);

CREATE TABLE PROMO_USED (
    Promo_used_ID INT NOT NULL AUTO_INCREMENT,
    Promotion_ID INT NOT NULL,
    PRIMARY KEY (Promo_used_ID, Promotion_ID),
    FOREIGN KEY (Promotion_ID)
        REFERENCES PROMOTION (Promotion_ID)
);

CREATE TABLE STOCK (
    Stock_ID INT NOT NULL AUTO_INCREMENT,
    Total_stock INT,
    PRIMARY KEY (Stock_ID)
);

CREATE TABLE PRICE (
    Price_ID INT NOT NULL AUTO_INCREMENT,
    Price DECIMAL(15, 2),
    PRIMARY KEY (Price_ID)
);

CREATE TABLE PRODUCT (
    Product_ID INT NOT NULL AUTO_INCREMENT,
    Product_name VARCHAR(30),
    PRIMARY KEY (Product_ID)
);

CREATE TABLE SUPERMARKET (
    Shop_ID INT NOT NULL,
    PRIMARY KEY (Shop_ID),
    FOREIGN KEY (Shop_ID)
        REFERENCES SHOP (Shop_ID)
);

CREATE TABLE INVENTORY_PRODUCT (
    Product_ID INT NOT NULL,
    Price_ID INT,
    Stock_ID INT,
    Shop_ID INT,
    PRIMARY KEY (Product_ID),
    FOREIGN KEY (Product_ID)
        REFERENCES PRODUCT (Product_ID),
    FOREIGN KEY (Price_ID)
        REFERENCES PRICE (Price_ID),
    FOREIGN KEY (Stock_ID)
        REFERENCES STOCK (Stock_ID),
    FOREIGN KEY (Shop_ID)
        REFERENCES SUPERMARKET (Shop_ID)
);

CREATE TABLE AREA (
    Area_ID INT NOT NULL AUTO_INCREMENT,
    Area VARCHAR(30),
    PRIMARY KEY (AREA_ID)
);

CREATE TABLE PAYMENT_TYPE (
    Payment_type_ID INT NOT NULL AUTO_INCREMENT,
    Payment_type VARCHAR(30),
    PRIMARY KEY (Payment_type_ID)
);

CREATE TABLE ORDERS (
    Order_ID INT NOT NULL AUTO_INCREMENT,
    Contents VARCHAR(30),
    Total_balance DECIMAL(15, 2),
    Promo_used_ID INT,
    Plate_number CHAR(7),
    Customer_ID INT,
    PRIMARY KEY (Order_ID),
    FOREIGN KEY (Promo_used_ID)
        REFERENCES PROMO_USED (Promo_used_ID),
    FOREIGN KEY (Plate_number)
        REFERENCES VEHICLE (Plate_number),
    FOREIGN KEY (Customer_ID)
        REFERENCES CUSTOMER (Customer_ID)
);

CREATE TABLE RESTAURANT (
    Shop_ID INT NOT NULL,
    Area_ID INT,
    Order_ID INT,
    PRIMARY KEY (Shop_ID),
    FOREIGN KEY (Shop_ID)
        REFERENCES SHOP (Shop_ID),
    FOREIGN KEY (Area_ID)
        REFERENCES AREA (Area_ID),
    FOREIGN KEY (Order_ID)
        REFERENCES ORDERS (Order_ID)
);

CREATE TABLE RESTAURANT_TYPE (
    Shop_ID INT NOT NULL,
    Rest_Type VARCHAR(30),
    FOREIGN KEY (Shop_ID)
        REFERENCES RESTAURANT (Shop_ID)
);
    
CREATE TABLE PLACES_ORDER (
    Customer_ID INT NOT NULL,
    Order_ID INT NOT NULL,
    PRIMARY KEY (Customer_ID, Order_ID),
    FOREIGN KEY (Customer_ID)
        REFERENCES CUSTOMER (Customer_ID),
    FOREIGN KEY (Order_ID)
        REFERENCES ORDERS (Order_ID)
);

CREATE TABLE PAYMENT (
    Payment_confirm_number INT NOT NULL auto_increment,
    Payment_type_ID INT,
    Payment_time DATE,
    Order_ID INT,
    PRIMARY KEY (Payment_confirm_number),
    FOREIGN KEY (Payment_type_ID)
        REFERENCES PAYMENT_TYPE (Payment_type_ID),
    FOREIGN KEY (Order_ID)
        REFERENCES ORDERS (Order_ID)
);

CREATE TABLE SHOP_SCHEDULE (
    Shop_ID INT NOT NULL,
    Day_ VARCHAR(30) NOT NULL,
    Open_time TIME,
    Closed_time TIME,
    PRIMARY KEY (Shop_ID, Day_),
    FOREIGN KEY (Shop_ID)
        REFERENCES SHOP (Shop_ID)
);



INSERT INTO CUSTOMER
    (Customer_ID, P_ID)
VALUES 
    (9, (SELECT P_ID FROM PERSON WHERE P_ID=1)),
    (10, (SELECT P_ID FROM PERSON WHERE P_ID=3)),
    (11, (SELECT P_ID FROM PERSON WHERE P_ID=5)),
    (12, (SELECT P_ID FROM PERSON WHERE P_ID=6)),
    (13, (SELECT P_ID FROM PERSON WHERE P_ID=7)),
    (14, (SELECT P_ID FROM PERSON WHERE P_ID=9)),
    (15, (SELECT P_ID FROM PERSON WHERE P_ID=11)),
    (16, (SELECT P_ID FROM PERSON WHERE P_ID=12)),
    (17, (SELECT P_ID FROM PERSON WHERE P_ID=13)),
    (18, (SELECT P_ID FROM PERSON WHERE P_ID=15));
    
INSERT INTO GOLD_PASS
    (Pass_ID, Delivery_Count)
VALUES
    (7, 8),
    (8, 18);

INSERT INTO MEMBER_CARD
    (Card_ID)
VALUES
    (11),
    (12),
    (13),
    (14);

INSERT INTO ORDINARY_CUSTOMER
    (Customer_ID)
VALUES
    (9),
    (10),
    (17),
    (18);
    
INSERT INTO SILVER_MEMBER
    (Customer_ID)
VALUES
    (11),
    (13),
    (14),
    (15);

INSERT INTO HAS_MEMBER_CARD
    (Card_ID, Customer_ID)
VALUES
    (11, 11),
    (12, 13),
    (13, 14),
    (14, 15);

